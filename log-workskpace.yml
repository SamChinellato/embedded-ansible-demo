- name: PostProvisionSample
  hosts: localhost
  vars:
    - manageiq_connection:
        url: {{ manageiq_connection.url }} 
        username: {{ manageiq.user }}
        password: {{ manageiq.api_token }}
        automate_workspace: {{ manageiq.automate_workspace }}
        manageiq_validate_certs: false
  roles:
    - role: '/runner/project/roles/manageiq.manageiq_automate'
  tasks:
   - name: Print vars 
     ansible.builtin.debug:
       msg: Hello {{ hello }} has name {{ name }} and hostname "{{ hostname }}"
   - name: Print passed in variables
     ansible.builtin.debug:
       msg: ManageIQ api_token is {{ manageiq.api_token }} and the connection variables are {{ manageiq_connection.url }}
   - name: GET
     ansible.builtin.uri:
       url: http://mcm-demo-api-service.mcm-demo-api.svc.cluster.local/api/hello
   - name: POST
     ansible.builtin.uri:
       url: http://mcm-demo-api-service.mcm-demo-api.svc.cluster.local/items/
       method: POST
       body: >-
        {{ {"name": "hello",
             "id": "hi",
            } }}
       body_format: json
       validate_certs: no
